{{ define "main" }} {{ partial "back_link.html" .}}

<div class="">
  <!-- <header class="prose prose-gray dark:prose-invert">
    <p class="text-secondary mb-0 text-sm">{{ .Title }}</p>
    <h2 class="p-name mb-2 mt-0 text-2xl">{{ .Description }}</h2>
    {{ .Content }}
  </header> -->

  <section class="mt-20">
    <div class="prose prose-gray dark:prose-invert">
      <h2 class="text-xl">Eras</h2>
      <p>
        The development of my musical taste can be plotted into various eras.
        Often changes occur around major life changes, such as a career
        development, a new city, or a new relationship.
      </p>
    </div>
    {{ $playlists := where .Site.Pages "Type" "playlists" }} {{ $sortedPlaylists
    := sort $playlists "Params.start" "desc" }} {{ $path := .Path }}
    <ul class="w-full grid grid-cols-2 lg:grid-cols-3 gap-4 mt-10">
      {{ range $sortedPlaylists }} {{if .Params.start }}
      <li class="">
        <a
          href="{{ .Permalink }}"
          class="shadow-subtle border p-3 rounded-xl bg-white text-center block"
        >
          <div class="relative">
            <img src="{{ .Params.cover}}" class="rounded brightness-75" />
            <div
              class="absolute top-0 left-0 h-full font-medium text-white w-full content-center px-3"
            >
              {{ .Title }}
            </div>
          </div>
          <div class="mt-3 text-secondary text-xs">
            {{.Params.start}} {{ if .Params.end }} - {{ .Params.end }} {{ end }}
          </div>
        </a>
      </li>
      {{ end }} {{ end }}
    </ul>
  </section>

  <section class="mt-20">
    <div class="prose prose-gray dark:prose-invert">
      <h2 class="text-xl">Monthlies</h2>
      <p>
        Every month, I create a new discovery playlist, which serves as an inbox
        for all new and old music that pops onto my radar. Usually, it's filled
        with cafe finds, TV and film soundtracks, and things I pick up along the
        way.
      </p>
    </div>
    {{ $sortedMonthlies := sort $playlists "Params.month" "desc" }} {{ $path :=
    .Path }}
    <ul class="w-full grid md:grid-cols-2 md:gap-4 mt-10">
      {{ range $sortedMonthlies }} {{ if .Params.month }}
      <li class="shadow-subtle border p-3 rounded-xl bg-white">
        <div class="flex items-stretch">
          <div class="w-1/5">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask
                id="mask0_653_12"
                style="mask-type: alpha"
                maskUnits="userSpaceOnUse"
                x="0"
                y="0"
                width="24"
                height="24"
              >
                <rect width="24" height="24" class="fill-zinc-400" />
              </mask>
              <g mask="url(#mask0_653_12)">
                <path
                  d="M9 21H5C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V12C3 10.75 3.2375 9.57917 3.7125 8.4875C4.1875 7.39583 4.82917 6.44583 5.6375 5.6375C6.44583 4.82917 7.39583 4.1875 8.4875 3.7125C9.57917 3.2375 10.75 3 12 3C13.25 3 14.4208 3.2375 15.5125 3.7125C16.6042 4.1875 17.5542 4.82917 18.3625 5.6375C19.1708 6.44583 19.8125 7.39583 20.2875 8.4875C20.7625 9.57917 21 10.75 21 12V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H15V13H19V12C19 10.05 18.3208 8.39583 16.9625 7.0375C15.6042 5.67917 13.95 5 12 5C10.05 5 8.39583 5.67917 7.0375 7.0375C5.67917 8.39583 5 10.05 5 12V13H9V21ZM7 15H5V19H7V15ZM17 15V19H19V15H17Z"
                  class="fill-zinc-400"
                />
              </g>
            </svg>
          </div>
          <div class="w-4/5 text-sm content-center">
            <div class="pl-3">
              <div class="font-medium">{{ .Title }}</div>
            </div>
          </div>
        </div>
        <!-- <div class="">
            <div class="mt-5 text-">{{ partial "tags.html" .}}</div>
          </div> -->
      </li>
      {{ end }} {{ end }}
    </ul>
  </section>
</div>
{{ end }}

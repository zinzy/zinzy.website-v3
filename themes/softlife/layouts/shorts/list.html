{{ define "main" }} {{ partial "back_link.html" .}}

<header class="prose prose-gray dark:prose-invert mb-20">
  <p class="text-secondary mb-0 text-sm">{{ .Title }}</p>
  <h2 class="p-name mb-2 mt-0 text-2xl">
    Fleeting notes, unfinished thoughts, and constant satisfying of curiosities
  </h2>
</header>

<section class="mt-10 md:mt-20">
  {{ $posts := where .Site.RegularPages "Type" "posts" }} {{ $shorts := where
  .Site.RegularPages "Type" "shorts" }} {{ $filtered := union $posts $shorts }}
  {{ $feed := $filtered }} {{ $sortedfeed := $feed.ByDate.Reverse }} {{
  $paginator := .Paginate $sortedfeed 7 }} {{ range $paginator.Pages }} {{ if
  .IsHome }}
  <section class="my-10 md:my-20 prose prose-gray dark:prose-invert">
    <p>
      You've reached zinzy.website, a home for soft stances, lived experiences,
      and critical notes on the things I hold dear. No highlight reel, no likes,
      no follow button. Just my appreciation for the web, my excessive
      curiousity, and the words I choose to make sense of it all.
    </p>
  </section>
  {{ end }}

  <article class="mb-20">
    <time
      class="dt-published text-secondary font-medium uppercase text-xs mb-5 block"
      datetime="{{ .Date }}"
    >
      <a href="{{ .Permalink }}">
        {{ .Date | time.Format site.Params.theme_config.date_format_date_time }}
      </a>
    </time>
    {{ if .Params.title }} {{ else }}

    <div class="prose prose-gray dark:prose-invert">
      {{ if .Params.replyTo }} {{ if .Params.rsvp }}
      <p>
        {{ if eq .Params.rsvp "yes" }}<data class="p-rsvp" value="YES"
          >Is going</data
        >
        to {{ else if eq .Params.rsvp "maybe" }}<data
          class="p-rsvp"
          value="Maybe"
          >Might go</data
        >
        to {{ else if eq .Params.rsvp "no" }}<data class="p-rsvp" value="no"
          >Unable to go</data
        >
        to {{ else if eq .Params.rsvp "interested" }}<data
          class="p-rsvp"
          value="interested"
          >Is interested</data
        >
        in {{ end }}

        <a
          href="{{.Params.replyTo}}"
          rel="in-reply-to"
          class="u-in-reply-to text-url break-all font-normal underline"
          target="_blank"
        >
          {{ if .Params.replyToName }} {{.Params.replyToName}} {{ else }}
          {{.Params.replyTo}} {{ end }}
        </a>
      </p>

      {{ else }}

      <p class="u-in-reply-to mt-0 mb-3">
        Replied to
        <a
          href="{{.Params.replyTo}}"
          rel="in-reply-to"
          class="u-in-reply-to text-url break-all font-normal underline"
          target="_blank"
        >
          {{ if .Params.replyToName }} {{.Params.replyToName | markdownify }} {{
          else }} {{.Params.replyTo}} {{ end }}
        </a>
      </p>
      {{ end }} {{ else if .Params.likeOf }}
      <p class="mt-0 mb-5">
        Liked
        <a
          href="{{.Params.likeOf}}"
          class="u-like-of text-url break-all font-normal underline"
          target="_blank"
        >
          {{ if .Params.likeOfName }} {{.Params.likeOfName | markdownify}} {{
          else }} {{.Params.likeOf}} {{ end }}</a
        >
      </p>
      {{ end }}
    </div>

    <div class="prose prose-gray dark:prose-invert">{{ .Content }}</div>
    {{ end }}
    <div class="mt-5">{{ partial "tags.html" .}}</div>
  </article>

  {{ end }} {{ partial "pagination.html" . }}
</section>

{{ end }}

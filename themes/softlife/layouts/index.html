{{ define "main" }}

<section class="my-10 md:my-20 prose prose-gray dark:prose-invert">
  <p>
    You've reached zinzy.website, a home for soft stances, lived experiences,
    and critical notes on the things I hold dear. No highlight reel, no likes,
    no follow button. Just my appreciation for the web, my excessive curiousity,
    and the words I choose to make sense of it all.
  </p>
</section>

{{ (site.GetPage "tags").Params.kind }}


<!--
<section class="mt-10">
  <h3 class="text-secondary font-medium uppercase text-xs mb-5 block">
    Topics
  </h3>

  <ul class="p-0 m-0">
    {{ $siteTags := .Site.Taxonomies.tags.ByCount }} {{ range first 9 $siteTags
    }}
    <li class="mr-1 mb-3 inline-block">
      <a
        href="{{ .Page.Permalink }}"
        class="bg-zinc-100 font-medium dark:bg-zinc-800px-2 p-2 rounded no-underline text-gray-600 dark:text-zinc-300 text-xs"
        >{{ .Page.Title }}
        <span class="text-gray-400/70 ml-2 inline-block">{{ .Count }}</span></a
      >
    </li>
    {{ end }}
  </ul>
  -->

  <!-- Retrieved this snippet from https://discourse.gohugo.io/t/tag-cloud/6335 -->
  <!-- {{ $tags := $.Site.Taxonomies.tags.ByCount }} {{ $v1 := where $tags "Count"
    ">=" 3 }} {{ $v2 := where $v1 "Term" "not in" (slice "weeknotes" "friends"
    "pets" "rss") }}

    <ul class="text-xs p-0 m-0">
      {{ range first 9 $v2 }} {{ if .Term }} {{ $tagURL := printf "tags/%s"
      .Term | relURL }}
      <li
        class="inline-block m-0 p-0 bg-zinc-100 font-medium dark:bg-zinc-800 mr-1 mb-2 px-2 py-1 rounded"
      >
        <a
          href="{{ $tagURL }}"
          class="no-underline text-gray-600 dark:text-zinc-300"
          >{{ .Term }}
          <span class="text-gray-400/70 ml-2 inline-block"
            >{{ .Count }}</span
          ></a
        >
      </li>
      {{ end }} {{ end }}
    </ul> 
</section>


-->


<section class="mt-10 md:mt-20">
  {{ $posts := where .Site.RegularPages "Type" "posts" }} {{ $shorts := where
  .Site.RegularPages "Type" "shorts" }} {{ $filtered := union $posts $shorts }}
  {{ $feed := $filtered }} {{ $sortedfeed := $feed.ByDate.Reverse }} {{
  $paginator := .Paginate $sortedfeed 7 }} {{ range $paginator.Pages }} {{ if
  .IsHome }}
  <section class="my-10 md:my-20 prose prose-gray dark:prose-invert">
    <p>
      You've reached zinzy.website, a home for soft stances, lived experiences,
      and critical notes on the things I hold dear. No highlight reel, no likes,
      no follow button. Just my appreciation for the web, my excessive
      curiousity, and the words I choose to make sense of it all.
    </p>
  </section>
  {{ end }}

  <article class="mb-20">
    <time
      class="dt-published text-secondary font-medium uppercase text-xs mb-5 block"
      datetime="{{ .Date }}"
    >
      <a href="{{ .Permalink }}">
        {{ if .Params.title }} {{ .Date | time.Format
        site.Params.theme_config.date_format_date }} {{ else }} {{ .Date |
        time.Format site.Params.theme_config.date_format_date_time }} {{ end }}
      </a>
    </time>
    {{ if .Params.title }}

    <h2 class="text-2xl mt-0 mb-3">
      <a href="{{ .Permalink }}">{{ .Params.title }}</a>
    </h2>

    <div class="prose prose-gray dark:prose-invert">
      {{ .Summary }} <a href="{{ .Permalink }}">(Continue)</a>
    </div>
    {{ else }}

    <div class="prose prose-gray dark:prose-invert">
      {{ if .Params.replyTo }} {{ if .Params.rsvp }}
      <p>
        {{ if eq .Params.rsvp "yes" }}<data class="p-rsvp" value="YES"
          >Is going</data
        >
        to {{ else if eq .Params.rsvp "maybe" }}<data
          class="p-rsvp"
          value="Maybe"
          >Might go</data
        >
        to {{ else if eq .Params.rsvp "no" }}<data class="p-rsvp" value="no"
          >Unable to go</data
        >
        to {{ else if eq .Params.rsvp "interested" }}<data
          class="p-rsvp"
          value="interested"
          >Is interested</data
        >
        in {{ end }}

        <a
          href="{{.Params.replyTo}}"
          rel="in-reply-to"
          class="u-in-reply-to text-url break-all font-normal underline"
          target="_blank"
        >
          {{ if .Params.replyToName }} {{.Params.replyToName}} {{ else }}
          {{.Params.replyTo}} {{ end }}
        </a>
      </p>

      {{ else }}

      <p class="u-in-reply-to mt-0 mb-3">
        Replied to
        <a
          href="{{.Params.replyTo}}"
          rel="in-reply-to"
          class="u-in-reply-to text-url break-all font-normal underline"
          target="_blank"
        >
          {{ if .Params.replyToName }} {{.Params.replyToName | markdownify }} {{
          else }} {{.Params.replyTo}} {{ end }}
        </a>
      </p>
      {{ end }} {{ else if .Params.likeOf }}
      <p class="mt-0 mb-5">
        Liked
        <a
          href="{{.Params.likeOf}}"
          class="u-like-of text-url break-all font-normal underline"
          target="_blank"
        >
          {{ if .Params.likeOfName }} {{.Params.likeOfName | markdownify}} {{
          else }} {{.Params.likeOf}} {{ end }}</a
        >
      </p>
      {{ end }}
    </div>

    <div class="prose prose-gray dark:prose-invert">{{ .Content }}</div>
    {{ end }}
    <div class="mt-5">{{ partial "tags.html" .}}</div>
  </article>

  {{ end }} {{ partial "pagination.html" . }}
</section>
{{ end }}
